(function(n,f){if(typeof define==='function'&&define.amd){define('masonry',()=>(f))}else if(typeof module==='object'&&module.exports){module.exports=f}else{n.masonry=f}}(this,function masonry(q){if(typeof (q)==='string'){q=document.querySelector(q)};var l=z=>(parseFloat(z)),s=z=>(window.getComputedStyle(z)),m=(u,v)=>(l(s(v)['margin'+u])||0),p=z=>(l(z)+'px'),y=z=>(l(z.style.top)),x=z=>(l(z.style.left)),w=z=>(l(s(z).width)),h=z=>(l(s(z).height)),b=z=>(y(z)+h(z)+m('Bottom',z)),r=z=>(x(z)+w(z)+m('Right',z)),sort=z=>{z=z.sort((u,v)=>(b(v)-b(u)||x(v)-x(u)))};function Boundary(o){var e=o;sort(e);this.add=a=>{e.push(a);sort(e);e.pop()};this.min=()=>(e[e.length - 1]);this.max=()=>(e[0]);};var c=(a,b,c)=>{var x=a.style;x.position='absolute';x.top=p(b);x.left=p(c)},j=z=>{c(z,0,m('Left',z))},g=(u,v)=>{c(v,u.style.top,r(u)+m('Left',v))},I=(u,v)=>{c(v,b(u)+m('Top',v),x(u))},k=(u,v)=>{u.style.position='relative';u.style.height=p(b(v)+m('Bottom',v))},t=(u,v)=>(r(u[v-1])+w(u[v])<=w(q)),e=q.children;if(e.length){j(e[0])}for(var i=1;i<e.length&&t(e,i);i++){g(e[i-1],e[i])};var o=[].slice.call(e,0,i),d=new Boundary(o);for(;i<e.length;i++){I(d.min(),e[i]);d.add(e[i])};k(q,d.max())}))
